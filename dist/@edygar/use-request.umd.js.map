{"version":3,"file":"use-request.umd.js","sources":["../../node_modules/@babel/runtime/helpers/esm/extends.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/dequal/dist/dequal.mjs","../../node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js","../../src/requestStateReducer.js","../../node_modules/regenerator-runtime/runtime.js","../../node_modules/@babel/runtime/regenerator/index.js","../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../src/useUpdatedRef.js","../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../src/AbortError.js","../../src/useRequestFactory.js","../../src/useRequestReporter.js","../../src/cache.js","../../src/useRequest.js"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\t\tif (ctor === Array && (len=foo.length) === bar.length) {\n\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\treturn len === -1;\n\t\t}\n\t\tif (ctor === Object) {\n\t\t\tif (Object.keys(foo).length !== Object.keys(bar).length) return false;\n\t\t\tfor (len in foo) if (!(len in bar) || !dequal(foo[len], bar[len])) return false;\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn foo !== foo && bar !== bar;\n}\n","import React from 'react';\nimport deepEqual from 'dequal';\n\nfunction checkDeps(deps) {\n  if (!deps || !deps.length) {\n    throw new Error('useDeepCompareEffect should not be used with no dependencies. Use React.useEffect instead.');\n  }\n\n  if (deps.every(isPrimitive)) {\n    throw new Error('useDeepCompareEffect should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n  }\n}\n\nfunction isPrimitive(val) {\n  return val == null || /^[sbn]/.test(typeof val);\n}\n\nfunction useDeepCompareMemoize(value) {\n  var ref = React.useRef();\n\n  if (!deepEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nfunction useDeepCompareEffect(callback, dependencies) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkDeps(dependencies);\n  }\n\n  React.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nexport default useDeepCompareEffect;\n","export default function requestStateReducer(state, {type, payload}) {\n  switch (type) {\n    case 'init':\n      return {\n        ...state,\n        pending: true,\n        status: 'pending',\n        ...payload,\n      }\n\n    case 'params_defined':\n      return {\n        ...state,\n        params: payload,\n      }\n\n    case 'request_succeeded':\n      return {\n        ...state,\n        status: 'resolved',\n        pending: false,\n        ...payload,\n      }\n\n    case 'request_aborted':\n      return {\n        ...state,\n        status: 'aborted',\n        pending: false,\n        ...payload,\n      }\n\n    case 'request_failed':\n      return {\n        ...state,\n        status: 'rejected',\n        pending: false,\n        ...payload,\n      }\n\n    default:\n      return {\n        ...state,\n        ...payload,\n      }\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react'\n\n/**\n * In order to keep the ref always correctly updated\n * whenever the component is rendered with the value\n * changed, we updated ref as early as possible.\n *\n * Note: Before the component is rendered, we can never\n * know whether the value change is effective or if the\n * render will be bailed out.\n *\n * @param {any} value the value to keep the ref\n * @return {Object} the updated ref\n */\nexport default function useUpdatedRef(value) {\n  const ref = React.useRef(value)\n\n  React.useLayoutEffect(() => {\n    ref.current = value\n  }, [value])\n\n  return ref\n}\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/**\n * Helper Class to produce local spec-compliant abortations\n */\nexport default class AbortError extends ('DOMError' in global\n  ? DOMError\n  : Error) {\n  constructor(...args) {\n    super(...args)\n    this.name = 'AbortError'\n  }\n}\n","import React from 'react'\nimport useUpdatedRef from './useUpdatedRef'\nimport requestStateReducer from './requestStateReducer'\nimport AbortError from './AbortError'\n\n/**\n * Default function for performing the request at `useRequest`.\n *\n * It uses the native `fetch` with native `AbortController`\n * so polyfill according to your requirements.  Assumes `url`\n * as part of the `fetchParams`\n *\n * It creates its own AbortController so that it can be registered\n * with registerAbort, any signal present on fetchOptions will be\n * overwritten.\n *\n * @param {Object} requestState the current request state\n * @param {Request} requestState.params Definition for the request, including the url and fetch options\n * @param {Function} registerAborter Callback to set the aborter function\n *\n * @return {Promise<Response>} the future response\n */\nexport function defaultPerformRequest(requestState, registerAborter) {\n  if (!requestState.params) {\n    throw new Error('useRequest: Invalid request parameters.')\n  }\n  const {\n    params: {url, ...fetchOptions},\n  } = requestState.params\n\n  const controller = new AbortController()\n  registerAborter(() => {\n    controller.abort()\n  })\n\n  return fetch(url, {\n    ...fetchOptions,\n    signal: controller.signal,\n  })\n}\n\n/**\n * Expects the fetch options, including the URL\n *\n * @param {Object} fetchOptions Options passed to the `fetch` function\n * @return {Object} fetchOptions noop\n */\nexport function defaultMapRequest(fetchOptions) {\n  return fetchOptions\n}\n\n/**\n * Expects a fetch response and assumes JSON\n *\n * @param {Object} requestState the current state of the request\n */\nexport async function defaultMapResponse(requestState) {\n  const parsed = await requestState.responded.json()\n\n  if (!requestState.responded.ok) {\n    throw parsed\n  }\n\n  return parsed\n}\n\n/**\n * Produces a callback that makes Requests, returning a Promise with\n * the last state, either a resolvution or rejection.\n *\n * The future object contains all the information around the request\n * from the arguments passed from consumer of the callback, parameters\n * the request, the own request, the own response, the mapped response,\n * also a `status` informing the last status (\"resolved\", \"rejected\", \"aborted\").\n *\n * @param {Boolean} throwOnAbortions whether the promise rejects on abortions.\n * @param {Boolean} throwOnRejections whether the promise rejects at all, it's\n *      usefull when the promises are not being used to control flow.\n * @param {Function} onStateChange called at each request state change\n * @param {Function|Object} request Object representing the parameters to\n *      perform request or a function that produces it from the arguments\n *      of the last call.\n * @param {Function} perform Receives the parameters and the registerAbort\n *      callback and peforms the request, returing a promise of it.\n * @param {Function} response called when request responds in order to map the\n *      request result to a consumable structure.\n * @param {Fuction} stateReducer reducer used to update the request state.\n *\n * @return {Function} request initiator\n */\nexport default function useRequestFactory({\n  throwOnAbortions = false,\n  throwOnRejections = false,\n  onStateChange = () => {},\n  request: mapRequest = payload => payload,\n  response: mapResponse = defaultMapResponse,\n  perform: performRequest = defaultPerformRequest,\n  stateReducer: stateReducer = requestStateReducer,\n} = {}) {\n  /* As all of the params will be called during the async\n   * function, they should be a ref so at each new render\n   * with new values, they are updated and a on going async\n   * function uses the latest values.\n   */\n  const stateReducerRef = useUpdatedRef(stateReducer)\n  const mapRequestRef = useUpdatedRef(mapRequest)\n  const mapResponseRef = useUpdatedRef(mapResponse)\n  const performRequestRef = useUpdatedRef(performRequest)\n  const throwOnAbortionsRef = useUpdatedRef(throwOnAbortions)\n  const throwOnRejectionsRef = useUpdatedRef(throwOnRejections)\n  const onStateChangeRef = useUpdatedRef(onStateChange)\n\n  return React.useCallback(\n    async function request(...args) {\n      let aborted = false\n      let interruped = false\n      let unsubscribed = false\n      let state\n      const requestArgs = args\n\n      try {\n        propagateChange({\n          type: 'init',\n          payload: {\n            unsubscribe() {\n              unsubscribed = true\n            },\n            abort() {\n              aborted = true\n            },\n            args: requestArgs,\n          },\n        })\n\n        const params = await (typeof mapRequestRef.current === 'function'\n          ? mapRequestRef.current(...args)\n          : mapRequestRef.current)\n\n        propagateChange({\n          type: 'params_defined',\n          payload: params,\n        })\n\n        let abort\n        const requested = performRequestRef.current(state, aborter => {\n          abort = aborter\n        })\n\n        propagateChange({\n          type: 'request_sent',\n          payload: {\n            requested,\n            abort() {\n              abort()\n              aborted = true\n            },\n          },\n        })\n\n        const responded = await requested\n\n        propagateChange({\n          type: 'response_received',\n          payload: {\n            requested,\n            responded,\n            abort() {\n              aborted = true\n            },\n          },\n        })\n\n        const resolved = await mapResponseRef.current(state)\n\n        propagateChange({\n          type: 'request_succeeded',\n          payload: {\n            resolved,\n            abort() {},\n          },\n        })\n\n        return state\n      } catch (rejected) {\n        interruped = true\n        if (rejected instanceof Error && rejected.name === 'AbortError') {\n          propagateChange({\n            type: 'request_aborted',\n            payload: {\n              rejected,\n              abort() {},\n            },\n          })\n          if (throwOnAbortionsRef.current) throw state\n\n          return state\n        }\n\n        propagateChange({\n          type: 'request_failed',\n          payload: {\n            rejected,\n            abort() {},\n          },\n        })\n\n        if (throwOnRejectionsRef.current) throw state\n\n        return state\n      }\n\n      function propagateChange(action) {\n        // Checks for abortions from the last life cycle update\n        if (aborted && !interruped)\n          throw new AbortError('The operation was aborted.')\n\n        state = stateReducerRef.current(state, action)\n\n        if (!unsubscribed) onStateChangeRef.current(state)\n\n        // Checks for abortions from the last onStateChange call\n        if (aborted && !interruped)\n          throw new AbortError('The operation was aborted.')\n      }\n    },\n    // All its dependencies are updated through refs\n    [\n      mapRequestRef,\n      mapResponseRef,\n      onStateChangeRef,\n      performRequestRef,\n      stateReducerRef,\n      throwOnAbortionsRef,\n      throwOnRejectionsRef,\n    ],\n  ) // eslint-disable-line\n}\n","import React from 'react';\nimport useRequestFactory from './useRequestFactory';\nimport useUpdatedRef from './useUpdatedRef';\n\nexport const idleState = {\n  pending: false,\n  status: 'idle',\n  unsubscribe() {},\n  abort() {}\n};\n\nexport default function useRequestReporter({\n  onStateChange = () => {},\n  ...useRequestParams\n}) {\n  const [currentState, setState] = React.useState(idleState);\n  const onStateChangeRef = useUpdatedRef(onStateChange);\n\n  const request = useRequestFactory({\n    ...useRequestParams,\n    onStateChange: React.useCallback(\n      newState => {\n        setState(newState);\n        onStateChangeRef.current(newState);\n      },\n      [onStateChangeRef]\n    )\n  });\n\n  return [\n    React.useMemo(\n      () => ({\n        ...currentState,\n        reset() {\n          setState(idleState);\n          onStateChangeRef.current(idleState);\n        }\n      }),\n      [currentState, onStateChangeRef]\n    ),\n    request\n  ];\n}\n","import requestStateReducer from './requestStateReducer'\n\nexport const bucket = new Map()\n\n/**\n * Converts GET Request Params into cache id, otherwise, null\n *\n * @param {Request} params Definition for the request, including the url and fetch options\n *\n * @return {String} the cache id\n */\nexport function defaultGetCachedIdByParams(params) {\n  if (params.method && params.method.toLowerCase() !== 'get') {\n    return null\n  }\n  return JSON.stringify(params)\n}\n\n/**\n * Converts arguments given to request initiator into cache id\n *\n * @return {String} the cache id\n */\nexport function defaultGetCachedId(...args) {\n  return JSON.stringify(args)\n}\n\n/**\n * Produces a stateReducerFn that caches requests by their params\n *\n * @param {Function} getCacheId retrieves an unique id from params to retrieve later\n * @param {Object} params.bucket The bucket to where the cache is going to be saved\n * @returns {Function} the resulting stateReducerFn\n */\nexport function byParams(\n  getCacheId = defaultGetCachedIdByParams,\n  {bucket: localBucket = bucket} = {},\n) {\n  return (state, action) => {\n    const newState = requestStateReducer(state, action)\n\n    if (action.type === 'params_defined') {\n      const cacheId = getCacheId(action.payload)\n      if (cacheId !== null && localBucket.has(cacheId)) {\n        const fromCache = localBucket.get(cacheId)\n        return {...fromCache, ...newState}\n      }\n    }\n\n    if (action.type === 'request_succeeded') {\n      const cacheId = getCacheId(newState.params)\n      localBucket.set(cacheId, newState)\n    }\n\n    return newState\n  }\n}\n\n/**\n * Produces a stateReducerFn that caches requests by their args\n *\n * @param {Function} getCacheId retrieves an unique id from arguments to retrieve later\n * @param {Object} params.bucket The bucket to where the cache is going to be saved\n * @returns {Function} the resulting stateReducerFn\n */\nexport function byArgs(\n  getCacheId = defaultGetCachedId,\n  {bucket: localBucket = bucket} = {},\n) {\n  return (state, action) => {\n    const newState = requestStateReducer(state, action)\n\n    if (action.type === 'init') {\n      const cacheId = getCacheId(...action.payload.args)\n      if (cacheId !== null && localBucket.has(cacheId)) {\n        // defines already from cache\n        return {...localBucket.get(cacheId), ...newState}\n      }\n    }\n\n    if (action.type === 'request_succeeded') {\n      localBucket.set(getCacheId(...newState.args), newState)\n    }\n\n    return newState\n  }\n}\n","import React from 'react';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\nimport defaultRequestStateReducer from './requestStateReducer';\nimport useRequestReporter from './useRequestReporter';\nimport useUpdatedRef from './useUpdatedRef';\nimport * as cache from './cache';\n\nconst none = state => state;\nexport default function useRequest({\n  auto = true,\n  abortOnUnmount = true,\n  cache: shouldCache = false,\n  getCacheId = cache.defaultGetCachedId,\n  cacheBucket = 'local',\n  cacheBy = undefined,\n  stateReducer = defaultRequestStateReducer,\n  ...params\n}) {\n  const abortOnUnmountRef = useUpdatedRef(abortOnUnmount);\n  const [localBucket] = React.useState(() => new Map(), []);\n  const bucket =\n    cacheBucket === 'local'\n      ? localBucket\n      : cacheBucket === 'global'\n      ? undefined\n      : cacheBucket;\n\n  const finalCacheBy =\n    shouldCache === false && !cacheBy\n      ? none\n      : cacheBy === 'params' ||\n        shouldCache === true ||\n        typeof cacheBy === 'function'\n      ? cache.byParams(typeof cacheBy === 'function' ? cacheBy : getCacheId, {\n          bucket\n        })\n      : cache.byArgs(getCacheId, { bucket });\n  const [state, performRequest] = useRequestReporter({\n    ...params,\n    stateReducer: (newState, action) =>\n      stateReducer(finalCacheBy(newState, action), action)\n  });\n  const stateRef = useUpdatedRef(state);\n  const mapRequest = params.request;\n\n  const requestRef = useUpdatedRef(\n    React.useCallback(\n      (...args) => {\n        stateRef.current.unsubscribe();\n        performRequest(...args);\n      },\n      [performRequest, stateRef]\n    )\n  );\n\n  const requestPayload = React.useMemo(\n    () => ({\n      payload:\n        auto && typeof mapRequest === 'function' ? mapRequest() : mapRequest\n    }),\n    [auto, mapRequest]\n  );\n\n  useDeepCompareEffect(() => {\n    if (auto) {\n      if (requestPayload.payload) {\n        stateRef.current.abort();\n        requestRef.current(requestPayload.payload);\n      }\n    }\n  }, [requestPayload, auto]);\n\n  React.useEffect(() => {\n    if (!auto) {\n      stateRef.current.abort();\n    }\n  }, [auto, stateRef]);\n\n  React.useEffect(\n    () => () => {\n      if (abortOnUnmountRef.current) {\n        stateRef.current.abort();\n      }\n    },\n    [abortOnUnmountRef, stateRef]\n  );\n\n  return [state, requestRef.current];\n}\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","dequal","foo","bar","ctor","len","constructor","Date","getTime","RegExp","toString","Array","checkDeps","deps","Error","every","isPrimitive","val","test","useDeepCompareMemoize","value","ref","React","useRef","deepEqual","current","useDeepCompareEffect","callback","dependencies","useEffect","requestStateReducer","state","type","payload","pending","status","params","runtime","exports","Op","hasOwn","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","obj","arg","err","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","resolve","reject","record","result","Promise","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","done","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","object","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","require$$0","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","useUpdatedRef","useLayoutEffect","_inheritsLoose","subClass","superClass","AbortError","global","DOMError","defaultPerformRequest","requestState","registerAborter","url","fetchOptions","controller","AbortController","abort","fetch","signal","defaultMapRequest","defaultMapResponse","responded","json","parsed","ok","useRequestFactory","throwOnAbortions","throwOnRejections","onStateChange","request","mapRequest","response","mapResponse","perform","performRequest","stateReducer","stateReducerRef","mapRequestRef","mapResponseRef","performRequestRef","throwOnAbortionsRef","throwOnRejectionsRef","onStateChangeRef","useCallback","propagateChange","action","aborted","interruped","unsubscribed","requestArgs","unsubscribe","requested","aborter","resolved","rejected","idleState","useRequestReporter","useRequestParams","useState","currentState","setState","newState","useMemo","bucket","Map","defaultGetCachedIdByParams","toLowerCase","JSON","stringify","defaultGetCachedId","byParams","getCacheId","localBucket","cacheId","has","fromCache","get","set","byArgs","none","useRequest","auto","abortOnUnmount","cache","shouldCache","cacheBucket","cacheBy","defaultRequestStateReducer","abortOnUnmountRef","finalCacheBy","stateRef","requestRef","requestPayload"],"mappings":"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"}